{
    "name": "Google",
    "intro": "Obtains related Google search results as reference for models.",
    "author": "",
    "avatar": "core/app/templates/google",
    "tags": ["recommendation", "web-search"],
    "type": "advanced",
    "workflow": {
      "nodes": [
        {
          "nodeId": "userGuide",
          "name": "System",
          "intro": "Configure system parameters for the app.",
          "avatar": "/imgs/workflow/userGuide.png",
          "flowNodeType": "userGuide",
          "position": {
            "x": 262.2732338817093,
            "y": -476.00241136598146
          },
          "version": "481",
          "inputs": [
            {
              "key": "welcomeText",
              "renderTypeList": ["hidden"],
              "valueType": "string",
              "label": "core.app.Welcome Text",
              "value": ""
            },
            {
              "key": "variables",
              "renderTypeList": ["hidden"],
              "valueType": "any",
              "label": "core.app.Chat Variable",
              "value": []
            },
            {
              "key": "questionGuide",
              "valueType": "any",
              "renderTypeList": ["hidden"],
              "label": "core.app.Question Guide",
              "value": {
                "open": false
              }
            },
            {
              "key": "tts",
              "renderTypeList": ["hidden"],
              "valueType": "any",
              "label": "",
              "value": {
                "type": "web"
              }
            },
            {
              "key": "whisper",
              "renderTypeList": ["hidden"],
              "valueType": "any",
              "label": "",
              "value": {
                "open": false,
                "autoSend": false,
                "autoTTSResponse": false
              }
            },
            {
              "key": "scheduleTrigger",
              "renderTypeList": ["hidden"],
              "valueType": "any",
              "label": "",
              "value": null
            }
          ],
          "outputs": []
        },
        {
          "nodeId": "448745",
          "name": "Start",
          "intro": "",
          "avatar": "/imgs/workflow/userChatInput.svg",
          "flowNodeType": "workflowStart",
          "position": {
            "x": 295.8944548701009,
            "y": 110.81336038514848
          },
          "version": "481",
          "inputs": [
            {
              "key": "userChatInput",
              "renderTypeList": ["reference", "textarea"],
              "valueType": "string",
              "label": "Question",
              "required": true,
              "toolDescription": "Question"
            }
          ],
          "outputs": [
            {
              "id": "userChatInput",
              "key": "userChatInput",
              "label": "core.module.input.label.user question",
              "valueType": "string",
              "type": "static"
            }
          ]
        },
        {
          "nodeId": "NOgbnBzUwDgT",
          "name": "Tool call",
          "intro": "Automatically calls one or more function modules, or calls a plugin directly.",
          "avatar": "/imgs/workflow/tool.svg",
          "flowNodeType": "tools",
          "showStatus": true,
          "position": {
            "x": 1028.8358722416106,
            "y": -500.8755882990822
          },
          "version": "481",
          "inputs": [
            {
              "key": "model",
              "renderTypeList": ["settingLLMModel", "reference"],
              "label": "core.module.input.label.aiModel",
              "valueType": "string",
              "llmModelType": "all",
              "value": "FastAI-plus"
            },
            {
              "key": "temperature",
              "renderTypeList": ["hidden"],
              "label": "",
              "value": 0,
              "valueType": "number",
              "min": 0,
              "max": 10,
              "step": 1
            },
            {
              "key": "maxToken",
              "renderTypeList": ["hidden"],
              "label": "",
              "value": 2000,
              "valueType": "number",
              "min": 100,
              "max": 4000,
              "step": 50
            },
            {
              "key": "systemPrompt",
              "renderTypeList": ["textarea", "reference"],
              "max": 3000,
              "valueType": "string",
              "label": "core.ai.Prompt",
              "description": "core.app.tip.systemPromptTip",
              "placeholder": "core.app.tip.chatNodeSystemPromptTip",
              "value": ""
            },
            {
              "key": "history",
              "renderTypeList": ["numberInput", "reference"],
              "valueType": "chatHistory",
              "label": "core.module.input.label.chat history",
              "description": "Maximum number of chats remembered",
              "required": true,
              "min": 0,
              "max": 30,
              "value": 6
            },
            {
              "key": "userChatInput",
              "renderTypeList": ["reference", "textarea"],
              "valueType": "string",
              "label": "Question",
              "required": true,
              "value": ["448745", "userChatInput"]
            }
          ],
          "outputs": [
            {
              "id": "NodeOutputKeyEnum.answerText",
              "key": "NodeOutputKeyEnum.answerText",
              "label": "core.module.output.label.Ai response content",
              "description": "core.module.output.description.Ai response content",
              "valueType": "string",
              "type": "FlowNodeOutputTypeEnum.static"
            }
          ]
        },
        {
          "nodeId": "GMELVPxHfpg5",
          "name": "HTTP request",
          "intro": "Calls Google to find related content.",
          "avatar": "/imgs/workflow/http.png",
          "flowNodeType": "httpRequest468",
          "showStatus": true,
          "position": {
            "x": 1005.4777753640342,
            "y": 319.4905539380939
          },
          "version": "481",
          "inputs": [
            {
              "key": "system_addInputParam",
              "renderTypeList": ["addInputParam"],
              "valueType": "dynamic",
              "label": "",
              "required": false,
              "description": "core.module.input.description.HTTP Dynamic Input"
            },
            {
              "valueType": "string",
              "renderTypeList": ["reference"],
              "key": "query",
              "label": "query",
              "toolDescription": "Google search keyword",
              "required": true,
              "canEdit": true,
              "editField": {
                "key": true,
                "description": true
              }
            },
            {
              "key": "system_httpMethod",
              "renderTypeList": ["custom"],
              "valueType": "string",
              "label": "",
              "value": "GET",
              "required": true
            },
            {
              "key": "system_httpReqUrl",
              "renderTypeList": ["hidden"],
              "valueType": "string",
              "label": "",
              "description": "core.module.input.description.Http Request Url",
              "placeholder": "https://api.ai.com/getInventory",
              "required": false,
              "value": "https://www.googleapis.com/customsearch/v1"
            },
            {
              "key": "system_httpHeader",
              "renderTypeList": ["custom"],
              "valueType": "any",
              "value": [],
              "label": "",
              "description": "core.module.input.description.Http Request Header",
              "placeholder": "core.module.input.description.Http Request Header",
              "required": false
            },
            {
              "key": "system_httpParams",
              "renderTypeList": ["hidden"],
              "valueType": "any",
              "value": [
                {
                  "key": "q",
                  "type": "string",
                  "value": "{{query}}"
                },
                {
                  "key": "cx",
                  "type": "string",
                  "value": "谷歌搜索cxID"
                },
                {
                  "key": "key",
                  "type": "string",
                  "value": "谷歌搜索key"
                },
                {
                  "key": "c2coff",
                  "type": "string",
                  "value": "1"
                },
                {
                  "key": "start",
                  "type": "string",
                  "value": "1"
                },
                {
                  "key": "end",
                  "type": "string",
                  "value": "20"
                },
                {
                  "key": "dateRestrict",
                  "type": "string",
                  "value": "m[1]"
                }
              ],
              "label": "",
              "required": false
            },
            {
              "key": "system_httpJsonBody",
              "renderTypeList": ["hidden"],
              "valueType": "any",
              "value": "",
              "label": "",
              "required": false
            }
          ],
          "outputs": [
            {
              "id": "system_addOutputParam",
              "key": "system_addOutputParam",
              "type": "dynamic",
              "valueType": "dynamic",
              "label": "",
              "editField": {
                "key": true,
                "valueType": true
              }
            },
            {
              "id": "httpRawResponse",
              "key": "httpRawResponse",
              "label": "Original response",
              "description": "Raw HTTP response. The response data must be a string or in JSON format.",
              "valueType": "any",
              "type": "static",
              "required": true
            },
            {
              "id": "M5YmxaYe8em1",
              "type": "dynamic",
              "key": "prompt",
              "valueType": "string",
              "label": "prompt"
            }
          ]
        },
        {
          "nodeId": "poIbrrA8aiR0",
          "name": "Code running",
          "intro": "Runs a short script, typically for complex data processing.",
          "avatar": "/imgs/workflow/code.svg",
          "flowNodeType": "code",
          "showStatus": true,
          "position": {
            "x": 1711.805344753384,
            "y": 650.1023414708576
          },
          "version": "482",
          "inputs": [
            {
              "key": "system_addInputParam",
              "renderTypeList": ["addInputParam"],
              "valueType": "dynamic",
              "label": "",
              "required": false,
              "description": "These variables will be used as input parameters for code execution.",
              "editField": {
                "key": true,
                "valueType": true
              }
            },
            {
              "key": "data",
              "valueType": "object",
              "label": "data",
              "renderTypeList": ["reference"],
              "description": "",
              "canEdit": true,
              "editField": {
                "key": true,
                "valueType": true
              },
              "value": ["GMELVPxHfpg5", "httpRawResponse"]
            },
            {
              "key": "codeType",
              "renderTypeList": ["hidden"],
              "label": "",
              "value": "js"
            },
            {
              "key": "code",
              "renderTypeList": ["custom"],
              "label": "",
              "value": "function main({data}){\n    const result = data.items.map((item) => ({\n      title: item.title,\n      link: item.link,\n      snippet: item.snippet\n    }))\n    return { prompt: JSON.stringify(result) }\n}"
            }
          ],
          "outputs": [
            {
              "id": "system_addOutputParam",
              "key": "system_addOutputParam",
              "type": "dynamic",
              "valueType": "dynamic",
              "label": "",
              "editField": {
                "key": true,
                "valueType": true
              },
              "description": "Use the return value as the output and pass it to the next node. "
            },
            {
              "id": "system_rawResponse",
              "key": "system_rawResponse",
              "label": "Complete response",
              "valueType": "object",
              "type": "static"
            },
            {
              "id": "error",
              "key": "error",
              "label": "Running error",
              "description": "Error message returned when code execution error occurs. If the code is executed successfully, a null value is returned.",
              "valueType": "object",
              "type": "static"
            },
            {
              "id": "qLUQfhG0ILRX",
              "type": "dynamic",
              "key": "prompt",
              "valueType": "string",
              "label": "prompt"
            }
          ]
        }
      ],
      "edges": [
        {
          "source": "448745",
          "target": "NOgbnBzUwDgT",
          "sourceHandle": "448745-source-right",
          "targetHandle": "NOgbnBzUwDgT-target-left"
        },
        {
          "source": "NOgbnBzUwDgT",
          "target": "GMELVPxHfpg5",
          "sourceHandle": "selectedTools",
          "targetHandle": "selectedTools"
        },
        {
          "source": "GMELVPxHfpg5",
          "target": "poIbrrA8aiR0",
          "sourceHandle": "GMELVPxHfpg5-source-right",
          "targetHandle": "poIbrrA8aiR0-target-left"
        }
      ]
    }
  }
  
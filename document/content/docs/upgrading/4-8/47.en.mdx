---
title: V4.7 (Initialization Required)
description: FastGPT V4.7 Release Notes
---

## 1. Update Configuration File

Added Boolean values to control which models are available for different feature modules, and added model logos. [View the latest configuration file](/docs/introduction/development/configuration/)

## 2. Initialization Script

After upgrading the image, send 1 HTTP request from any terminal. Replace `{{rootkey}}` with the `rootkey` from your environment variables, and `{{host}}` with your domain.

```bash
curl --location --request POST 'https://{{host}}/api/admin/initv47' \
--header 'rootkey: {{rootkey}}' \
--header 'Content-Type: application/json'
```

Script functions:

1. Initializes the parentId for plugins.

## 3. Upgrade ReRank Model

V4.7 changed the ReRank model format to be compatible with Cohere's format, allowing direct use of Cohere's API. If you're using a local ReRank model, update the image to: `registry.cn-hangzhou.aliyuncs.com/fastgpt/bge-rerank-base:v0.1`.

Cohere's reranking model doesn't perform as well with Chinese text compared to BGE. To integrate Cohere:

1. Apply for a Cohere API key: https://dashboard.cohere.com/api-keys
2. Update the FastGPT configuration file:

```json
{
  "reRankModels": [
    {
      "model": "rerank-multilingual-v2.0", // The model name must match a Cohere model
      "name": "Rerank", // Any display name
      "requestUrl": "https://api.cohere.ai/v1/rerank",
      "requestAuth": "Your Cohere API key"
    }
  ]
}
```

## V4.7 Release Notes

1. New - Tool calling module that allows LLM models to dynamically select other modules or plugins based on user intent.
2. New - Classification and content extraction now support functionCall mode. Models that support functionCall but not toolCall can now be used. Set `functionCall` to `true` and `toolChoice` to `false` in the LLM model configuration. If `toolChoice` is true, tool mode will be used instead.
3. New - HTTP plugin for quickly generating plugins via OpenAPI.
4. New - ReRank model now compatible with [Cohere's format](https://docs.cohere.com/reference/rerank-1), enabling direct use of Cohere's rerank models.
5. New - Helm chart installation support.
6. Improved - Advanced workflow editor performance.
7. Improved - Extracted Flow controller to packages.
8. Improved - AI model selection.
9. Improved - Manual Knowledge Base input dialog.
10. Improved - Variable input dialog.
11. Improved - Docker deployment now auto-initializes replica sets.
12. Improved - Browser file reading now auto-detects encoding to reduce garbled text.
13. Fixed - Community edition rerank model selection not working.
14. Fixed - HTTP request body sending `undefined` when not in use (caused some GET requests to fail).
15. New - HTTP URL now supports variables.
16. Fixed - V4.6.9 extraction prompts prone to hallucination.
17. Fixed - PG HNSW index not actually taking effect. After this update, search speed is significantly improved (though there may be some precision loss â€” refer to the PgVector documentation for index tuning). Details: https://github.com/pgvector/pgvector?tab=readme-ov-file#troubleshooting
18. Fixed - Safari browser voice input issue.
19. Fixed - Custom split rules now accept regex special characters (previously caused frontend crashes).

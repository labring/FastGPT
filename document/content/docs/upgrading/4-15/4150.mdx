---
title: 'V4.15.0(进行中)'
description: 'FastGPT V4.15.0 更新说明'
---

## 升级指南

aiproxy: 0.3.15

## 🚀 新增内容

1. 基于上下文工程的 Agent 模式，适合长任务拆解的场景。(测试版)
2. 临时增加 LLM 请求追踪，方便调试。会保留所有 LLM 的请求体和响应（默认保留 6 小时，通过 `LLM_REQUEST_TRACKING_RETENTION_HOURS` 变量调整）
3. 知识库搜索，支持指定 collectionIds 来进行筛选。
4. 模型监控增加缓存命中率。
5. 分享链接，自定义鉴权模式下，finish 事件会传输 chatId。
6. 对话日志列表，增加仅看错误日志过滤选项。
7. 对话日志列表，精准的过滤使用者。

## ⚙️ 优化

1. Chat Agent 中工具选择和知识库选择 UX。
2. MCP 保存时，自动过滤掉多余的字段，避免 mongo4.x 不兼容。
3. 后端自动过滤掉未配置的工具，避免模型调用未配置的工具导致报错。采用相同的过滤函数，保证前后端逻辑一致性。
4. 增加对话日志模式，工作流 AI 模型的记忆选择。
5. 工具调用时，自动补充空的 arguments 成 "{}"，避免部分模型服务商不支持空字符串导致报错。

## 🐛 修复

1. 工作流全局变量中，部分类型赋值错误的 defaultValueType。
2. 工作流 AI 节点，思考输出值未正常渲染。
3. 精确获取 MCP 单个子工具的权限，避免越权调用。
4. 工具集 ToolName 避免数字开头导致工具调用失败。
5. 简易应用转工作流，未复制一份头像。
6. 导入工作流时，引用类型的模型字段被误判为无效模型而清空。
7. Iphone safari 浏览器下，分享链接首次进入有概率触发 uid 为空的请求
8. MCP 暴露 Agent 时，无法传入文件链接。
9. 创建 http 工具时，body 包含变量会报错 JSON 解析错误。
10. 工作流切换 Tab 后画布自动定位失效。
11. 工作流节点出现系统未捕获的错误时，未正确走报错捕获分支。

## 插件

## 代码质量

1. 增加向量数据库集成测试。

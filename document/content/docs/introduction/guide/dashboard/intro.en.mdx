---
title: Workflows & Plugins
description: Quick guide to FastGPT workflows and plugins
---

Starting from V4.0, FastGPT uses a new interaction model to build AI applications. It uses Flow node orchestration (workflows) to implement complex workflows, improving flexibility and extensibility. However, this raises the learning curve — users with development backgrounds will find it easier to use.

[Watch the video tutorial](https://www.bilibili.com/video/BV1is421u7bQ/)

![](/imgs/flow-intro1.png)

## What is a Node?

In programming terms, a node is like a function or API endpoint. Think of it as a **step**. By connecting multiple nodes together, you can build step-by-step processes that lead to the final AI output.

Below is the simplest AI conversation. It consists of a workflow start node and an AI chat node.

![](/imgs/flow-intro2.png)

Execution flow:
1. When the user inputs a question, the [Workflow Start] node executes and saves the user's question.
2. The [AI Chat] node executes. This node has two required parameters: "Chat History" and "User Question." Chat history defaults to 6 messages, representing the context length. The user question is selected from the [Workflow Start] node.
3. The [AI Chat] node calls the conversation API with the chat history and user question to generate a response.

### Node Categories

Functionally, nodes fall into 2 categories:

1. **System Nodes**: User guidance (configure dialog information), user question (workflow entry point).
2. **Function Nodes**: Knowledge base search, AI chat, and other remaining nodes. (These nodes have inputs and outputs and can be freely combined.)

### Node Components

Each node contains 3 core parts: inputs, outputs, and triggers.

   ![](/imgs/flow-intro3.png)
   
   - AI model, prompt, chat history, user question, and knowledge base reference are inputs. Node inputs can be manual entries or variable references. Variable references include "global variables" and outputs from any previous node.
   - New context and AI reply content are outputs. Outputs can be referenced by any subsequent node.
   - The node has four "triggers" on the top, bottom, left, and right that can be connected. Connected nodes execute in sequence based on conditions.

## Key Concept - How Workflows Execute

FastGPT workflows start from the [Workflow Start] node, triggered when the user inputs a question. There's no **fixed exit point** — the workflow ends when nodes stop executing. If no nodes are running in a given cycle, the workflow ends.

Let's look at how workflows execute and when each node is triggered.

   ![](/imgs/flow-intro1.png)

As shown above, nodes can "be connected" and "connect to other nodes." We call the line "being connected" the predecessor line, and the line "connecting to other nodes" the successor line. In the example, the [Knowledge Base Search] node has one predecessor line on the left and one successor line on the right. The [AI Chat] node only has one predecessor line on the left.

Lines in FastGPT workflows have these states:  
- `waiting`: The connected node is waiting to execute.  
- `active`: The connected node can execute.  
- `skip`: The connected node should be skipped.   

Node execution principles:   

1. Check if any predecessor lines have `waiting` status. If yes, wait.  
2. Check if any predecessor lines have `active` status. If yes, execute.  
3. If predecessor lines have neither `waiting` nor `active`, skip this node.  
4. After execution, update successor line status to `active` or `skip` based on the situation, and update predecessor line status to `waiting` for the next cycle.

Let's walk through the example execution:   
1. [Workflow Start] node completes, updates successor line to `active`.   
2. [Knowledge Base Search] node checks predecessor line status is `active` and executes. After completion, updates successor line to `active` and predecessor line to `waiting`.
3. [AI Chat] node checks predecessor line status is `active` and executes. Workflow ends.

## How to Connect Nodes

1. For easy connection, each FastGPT node has connection points on all four sides. Left and top are predecessor connection points, right and bottom are successor connection points.
2. Click the x in the middle of a connection line to delete it.
3. Left-click to select a connection line.

## How to Read Workflows

1. Read from left to right.
2. Start from the **User Question** node. This node represents the user sending text and triggering the task.
3. Focus on [AI Chat] and [Specified Reply] nodes — these are where answers are output.

## FAQ

### How do I merge multiple outputs?

1. Text processing: Can merge strings.
2. Knowledge base search merge: Can merge multiple knowledge base search results.
3. Other results: Can't be merged directly. Consider passing them to an `HTTP` node for merging. Use `[Laf](https://laf.run/)` to quickly create a serverless HTTP endpoint.

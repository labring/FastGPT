---
title: Tool Calling & Termination
description: FastGPT tool calling module guide
---

![](/imgs/flow-tool1.png)

### **What is a Tool**

A tool can be a system module, such as: AI Chat, Knowledge Base Search, HTTP module, etc. It can also be a plugin.

Tool calling allows LLMs to make more dynamic workflow decisions rather than following fixed flows. (The downside is higher token usage.)

### **Tool Components**

1. Tool description. Usually the module or plugin description, which tells the LLM what the tool does.
2. Tool parameters. For system modules, tool parameters are fixed and don't need additional configuration. For plugins, tool parameters are configurable.

### **How Tools Work**

To understand how tools work, you first need to know their execution conditions.

1. Tool description (or introduction). This tells the LLM what the tool does. The LLM decides whether to call the tool based on context semantics.
2. Tool parameters. Some tools may need special parameters when called. Parameters have 2 key values: `parameter description` and `is required`.

Combining the tool description, parameter descriptions, and whether parameters are required, the LLM decides whether to call the tool. There are several scenarios:

1. Tools without parameters: Directly decide whether to execute based on tool description. Example: get current time.
2. Tools with parameters:
   1. No required parameters: The tool can be called even if there are no suitable parameters in the context. However, sometimes the LLM may fabricate a parameter.
   2. Has required parameters: If there are no suitable parameters, the LLM may not call the tool. You can use prompts to guide users to provide parameters.

#### **Tool Calling Logic**

In models that support `function calling`, multiple tools can be called at once. The calling logic:

![](/imgs/flow-tool2.png)

### **How to Use**

| | |
| --- | --- |
| ![](/imgs/flow-tool3.png) | ![](/imgs/flow-tool4.png) |

In advanced workflows, drag the tool calling connection point. Available tools will show a diamond shape at the top, which you can connect to the diamond at the bottom of the tool calling module.

Connected tools automatically separate tool inputs from regular inputs, and you can edit the `description` to make tool calling timing more precise.

Debugging tool calling is still somewhat of an art, so it's recommended not to add too many tools at once. Start with a few tools, optimize them, and then try adding more.

#### Use Cases

By default, after the tool calling node decides to call a tool, it returns the tool's results to the AI for summarization. Sometimes, if you don't need the AI to further summarize the output, you can use this node at the end of the tool workflow.

As shown below, after executing knowledge base search, it sends to an HTTP request. The search won't return results to tool calling for AI summarization.

![](/imgs/flow-tool5.png)

### Additional Nodes

When you use the tool calling node, tool calling termination and custom variable nodes also appear, further enhancing the tool calling experience.

#### Tool Calling Termination

Tool calling termination can end the current call. It can be placed after a tool. When the workflow reaches this node, it forcibly ends the current tool call, won't call other tools, and won't call the AI to answer questions based on tool results.

![](/imgs/flow-tool6.png)

### Custom Tool Variables

Custom variables can extend tool variable inputs. For nodes that aren't treated as tool parameters or can't be tool-called, you can define custom tool variables with corresponding parameter descriptions. Tool calling will then call this node and its subsequent workflow accordingly.

![](/imgs/flow-tool7.png)

### **Related Examples**

- [Google Search](https://doc.fastgpt.in/docs/use-cases/app-cases/google_search/)
- [Send Feishu Webhook](https://doc.fastgpt.in/docs/use-cases/app-cases/feishu_webhook/)
